(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{46:function(e,t,a){e.exports=a(72)},68:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),l=a.n(c),o=a(31),u=a(6),i=a(18),s=a.n(i),m=a(75),d=a(74),v=a(76),h=(a(68),a(77)),f=function(e){var t=e.event,a=e.deleteParticipant;return t.participants?r.a.createElement(r.a.Fragment,null,t.participants.map((function(e){return r.a.createElement("tr",{key:e.userId},r.a.createElement("td",null,e.name),r.a.createElement("td",null,r.a.createElement(d.a,{variant:"danger",size:"sm",onClick:function(){return a(e.userId)}},"Remove")))}))):null},E=function(e){var t=e.handleClose,a=e.show,c=e.event,l=e.participate,o=e.notify,i=e.remove,s=Object(n.useState)(""),E=Object(u.a)(s,2),p=E[0],b=E[1],g=Object(n.useState)({}),y=Object(u.a)(g,2),w=y[0],j=y[1],O=function(e){j(e),setTimeout((function(){j({})}),7e3)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{show:a,onHide:t},r.a.createElement(h.a.Header,{closeButton:!0},r.a.createElement(h.a.Title,null,c.eventName)),r.a.createElement(h.a.Body,null,r.a.createElement(m.a,{variant:w.variant,show:!!w.show&&w.show},w.body),r.a.createElement("p",null,c.eventAddress,", ",new Date(c.eventDate).toLocaleString()),r.a.createElement(v.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Remove"))),r.a.createElement("tbody",null,r.a.createElement(f,{event:c,deleteParticipant:function(e){i(e)}})))),r.a.createElement(h.a.Footer,null,r.a.createElement("span",null,r.a.createElement("input",{placeholder:"name",className:"mr-1",onChange:function(e){return function(e){b(e.target.value)}(e)}}),r.a.createElement(d.a,{variant:"primary",onClick:function(){if(p)if(c.participants.find((function(e){return e.name.toLowerCase()===p.toLowerCase()})))O({variant:"danger",body:"You have already participated!",show:!0});else{var e={name:p,eventID:c.id};l(e),b(""),t("events"),o({variant:"success",body:"".concat(e.name,' is participating in the "').concat(c.eventName,'" event!'),show:!0})}else O({variant:"danger",body:"Input name!",show:!0})}},"Participate")),r.a.createElement(d.a,{variant:"secondary",onClick:function(){return t("events")}},"Close"))))},p=a(78),b=function(e){var t=e.handleClose,a=e.show,c=e.createEvent,l=e.notify,o=Object(n.useState)(""),i=Object(u.a)(o,2),s=i[0],v=i[1],f=Object(n.useState)(""),E=Object(u.a)(f,2),b=E[0],g=E[1],y=Object(n.useState)(""),w=Object(u.a)(y,2),j=w[0],O=w[1],C=Object(n.useState)(""),S=Object(u.a)(C,2),I=S[0],N=S[1],D=Object(n.useState)(null),k=Object(u.a)(D,2),L=k[0],A=k[1],T=Object(n.useState)({}),x=Object(u.a)(T,2),F=x[0],B=x[1],H=function(e){B(e),setTimeout((function(){B({})}),1e4)},P=function(){v(""),g(""),O(""),N("")};return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{show:a,onHide:t},r.a.createElement(h.a.Header,{closeButton:!0},r.a.createElement(h.a.Title,null,"Add Event")),r.a.createElement(h.a.Body,null,r.a.createElement(m.a,{variant:F.variant,show:!!F.show&&F.show},F.body),r.a.createElement(p.a,null,r.a.createElement(p.a.Group,null,r.a.createElement(p.a.Label,null,"Event name"),r.a.createElement(p.a.Control,{type:"text",placeholder:"Enter event name...",onChange:function(e){return function(e){v(e.target.value)}(e)}}),r.a.createElement(p.a.Label,null,"Event date"),r.a.createElement(p.a.Control,{type:"date",placeholder:"Enter event date...",onChange:function(e){return function(e){g(e.target.value)}(e)}}),r.a.createElement(p.a.Label,null,"Event time"),r.a.createElement(p.a.Control,{type:"time",placeholder:"Enter event date...",onChange:function(e){return function(e){O(e.target.value)}(e)}}),r.a.createElement(p.a.Label,null,"Event place"),r.a.createElement(p.a.Control,{type:"text",placeholder:"Enter event place...",onChange:function(e){return function(e){N(e.target.value)}(e)}}),r.a.createElement(p.a.Label,null,"Max participants"),r.a.createElement(p.a.Control,{type:"number",placeholder:"Maximum number of participants",onChange:function(e){return function(e){A(Number(e.target.value))}(e)}})))),r.a.createElement(h.a.Footer,null,r.a.createElement(d.a,{variant:"secondary",onClick:function(){return t("add")}},"Close"),r.a.createElement(d.a,{variant:"primary",onClick:function(){if(s)if(b)if(j)if(I)if(L){var e={eventName:s,eventDate:"".concat(b," ").concat(j,":00"),eventAddress:I,eventLimit:L};c(e),P(),l({variant:"success",body:"You have added ".concat(e.eventName),show:!0}),t("add")}else H({variant:"danger",body:"Input maximum amout of participants for this event!",show:!0});else H({variant:"danger",body:"Input place of the event!",show:!0});else H({variant:"danger",body:"Input time of the event!",show:!0});else H({variant:"danger",body:"Input date of the event!",show:!0});else H({variant:"danger",body:"Input name of the event!",show:!0})}},"Submit"))))};var g=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),i=Object(u.a)(l,2),h=i[0],f=i[1],p=Object(n.useState)([]),g=Object(u.a)(p,2),y=g[0],w=g[1],j=Object(n.useState)([]),O=Object(u.a)(j,2),C=O[0],S=O[1],I=Object(n.useState)({}),N=Object(u.a)(I,2),D=N[0],k=N[1],L=Object(n.useState)({}),A=Object(u.a)(L,2),T=A[0],x=A[1];Object(n.useEffect)((function(){s.a.get("http://localhost:3001/api/events").then((function(e){w(e.data.sort((function(e,t){return e.eventDate<t.eventDate?1:-1})))})).catch((function(e){console.log(e)})),s.a.get("http://localhost:3001/api/users").then((function(e){S(e.data)})).catch((function(e){console.log(e)}))}),[]);var F=function(){c(!1)},B=function(e,t){"events"===e?(x(t),c(!0)):f(!0)},H=function(e){k(e),setTimeout((function(){k({})}),1e4)};return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"THE IT FUN"),r.a.createElement(m.a,{className:"m-3",variant:D.variant,show:!!D.show&&D.show},D.body),r.a.createElement("div",{className:"m-3"},r.a.createElement("h2",null,"Events"),r.a.createElement(d.a,{className:"mb-1",variant:"primary",onClick:function(){return B("add")}},"Add Event"),r.a.createElement(v.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Address"),r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Participants"))),r.a.createElement("tbody",null,y.map((function(e){return r.a.createElement("tr",{className:"event",key:e.id,onClick:function(){return B("events",Object(o.a)(Object(o.a)({},e),{},{participants:C.filter((function(t){return t.eventID===e.id}))}))}},r.a.createElement("td",null,e.eventName),r.a.createElement("td",null,e.eventAddress),r.a.createElement("td",null,new Date(e.eventDate).toLocaleString()),r.a.createElement("td",null,"".concat(C.filter((function(t){return t.eventID===e.id})).length," / ").concat(e.eventLimit)))}))))),r.a.createElement(E,{event:T,show:a,handleClose:F,participate:function(e){try{s.a.post("http://localhost:3001/api/users",e).then((function(e){console.log("response",e),S(e.data)}))}catch(t){console.log(t)}},notify:H,remove:function(e){console.log("userID",e),s.a.delete("http://localhost:3001/api/users/".concat(e)).then((function(){H({variant:"success",body:"You have removed ".concat(C.find((function(t){return t.userId===e})).name,' from the "').concat(T.eventName,'" event'),show:!0}),S(C.filter((function(t){return t.userId!==e}))),F()})).catch((function(e){H({variant:"danger",body:e.message,show:!0})}))}}),r.a.createElement(b,{show:h,handleClose:function(){f(!1)},createEvent:function(e){try{s.a.post("http://localhost:3001/api/events",e).then((function(e){console.log("response",e),w(e.data.sort((function(e,t){return e.eventDate<t.eventDate?1:-1})))}))}catch(t){H({variant:"danger",body:t.message,show:!0})}},notify:H}))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null)),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.1cfd3d8a.chunk.js.map